# SmileBot

## このボットについて

このボットはニコニコの動画検索及びボイスチャンネルでの音楽再生を可能にします。

## コマンド一覧

|コマンド名  |内容  |
|---|---|
|[!ncs](#ncs)  |ニコニコの動画の検索が行えます  |
|[!ncp](#ncp)  |ニコニコの動画をボイスチャンネルで音楽再生させられます  |
|!ncst  |ボイスチャンネルでの音楽再生を停止します  |
|!ncq  |ボイスチャンネルからボットを退室させます　|

# ncs

## !ncs \<search_word\> \<[options](#option)\> \<-t\>
検索ワード(複数ワードを打つとAND検索に)とオプション(任意)を打つことでニコニコ動画の検索を行うことができます
-tのオプションを追加することで一つ一つの動画の詳細情報を出力するようになります。
ORを入力することでOR検索も行えます(EG. ` 流星群 OR 組曲 `)

# ncp

## !ncp \<ニコニコ動画のurl\>
ニコニコ動画のurlの動画音声がボイスチャンネルで再生されます。
ORを入力することでOR検索も行えます(EG. ` 流星群 OR 組曲 `)

## !ncp \<ニコニコ動画のコンテンツID\>
ニコニコ動画のコンテンツID(smxxxx)の動画音声がボイスチャンネルで再生されます。

## !ncp \<search_word\> \<[options](#option)\>
検索ワード(複数ワードを打つとAND検索に)とオプション(任意)を入力し、該当した動画のうちランダムで1つの動画音声が再生されます。

# option

## オプションの種類

|オプション  |内容  |
|---|---|
|targets=〇〇  |検索ワードをなんの要素として検索するのかを指定できます(	title: タイトル(デフォルト),description: 説明文,tags: タグ) |
|min_viewCounter=〇〇  |視聴回数の下限を設定することができます(デフォルト:10000)  |
|limit=〇〇  |取得できる数を指定できます。多すぎるとエラーになるので注意。(多くても30までにしたほうが良い)(デフォルト: 5)  |
|sort=〇〇  |指定された要素を降順、昇順(ソートしたい要素の手前に+を追加)に並び替えることができます。並び替えができる要素は[下記](##ソートできる要素の種類)を確認してください |

## ソートできる要素の種類

|要素  |内容  |
|---|---|
|再生数 |viewCounter(デフォルト) |
|マイリスト数 |mylistCounter |
|いいね数 |likeCounter |
|再生時間 |lengthSeconds |
|投稿時間 |startTime |
|コメント数 |commentCounter |
|最終コメント時間 |lastCommentTime |

# 使用例

## ncs

下記の入力でタイトル（デフォルト）に「流星群」が含まれている動画を視聴回数の多い順（デフォルト）に5個(デフォルト)出力されます。

```
!ncs 流星群
```

下記の入力をした場合、詳細情報込みで「にじさんじ」タグを持つ動画を視聴回数の多い順(デフォルト)で10個出力されます

```
!ncs にじさんじ -t targets=tags limit=10
```
OR検索も行えます

```
!ncs 組曲 OR 流星群
```

## ncp

下記入力でニコニコ流星群の音声がボイスチャンネルで流れます（コマンドを打った人がボイスチャンネルにいる場合）

```
!ncp https://www.nicovideo.jp/watch/sm2959233
```

下記入力でもニコニコ流星群の音声がボイスチャンネルで流れます（コマンドを打った人がボイスチャンネルにいる場合）

```
!ncp sm2959233
```

下記の入力でタイトル（デフォルト）に「流星群」が含まれている動画のうち視聴回数の多いトップ５（デフォルト）から1つランダムに選択された動画が再生されます。

```
!ncs 流星群
```
